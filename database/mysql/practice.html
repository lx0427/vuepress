<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>联系 | Litter Flying Bears</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/vuepress/favicon.ico">
    <meta name="description" content="Litter Flying Bears">
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.8b010f45.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.32252c8f.js" as="script"><link rel="preload" href="/vuepress/assets/js/2.50fecea5.js" as="script"><link rel="preload" href="/vuepress/assets/js/16.38b2e471.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.9fe8ad4a.js"><link rel="prefetch" href="/vuepress/assets/js/11.04865b28.js"><link rel="prefetch" href="/vuepress/assets/js/12.a6451185.js"><link rel="prefetch" href="/vuepress/assets/js/13.9436dbc1.js"><link rel="prefetch" href="/vuepress/assets/js/14.e48af834.js"><link rel="prefetch" href="/vuepress/assets/js/15.c7193623.js"><link rel="prefetch" href="/vuepress/assets/js/17.fe4cdf9b.js"><link rel="prefetch" href="/vuepress/assets/js/18.2209f5bf.js"><link rel="prefetch" href="/vuepress/assets/js/19.e89ee3e6.js"><link rel="prefetch" href="/vuepress/assets/js/20.31c1c26b.js"><link rel="prefetch" href="/vuepress/assets/js/21.2a3edce9.js"><link rel="prefetch" href="/vuepress/assets/js/22.adeb73d8.js"><link rel="prefetch" href="/vuepress/assets/js/23.da646f3f.js"><link rel="prefetch" href="/vuepress/assets/js/24.5c91ca5e.js"><link rel="prefetch" href="/vuepress/assets/js/25.e6ce3cf7.js"><link rel="prefetch" href="/vuepress/assets/js/26.aa3caf10.js"><link rel="prefetch" href="/vuepress/assets/js/27.1cbf3206.js"><link rel="prefetch" href="/vuepress/assets/js/28.bc8d1bdf.js"><link rel="prefetch" href="/vuepress/assets/js/29.eca8b935.js"><link rel="prefetch" href="/vuepress/assets/js/3.b5382c14.js"><link rel="prefetch" href="/vuepress/assets/js/30.d58145bc.js"><link rel="prefetch" href="/vuepress/assets/js/31.372ed51e.js"><link rel="prefetch" href="/vuepress/assets/js/32.a9759a5c.js"><link rel="prefetch" href="/vuepress/assets/js/33.e50316f0.js"><link rel="prefetch" href="/vuepress/assets/js/34.1776acfd.js"><link rel="prefetch" href="/vuepress/assets/js/35.5608e3b8.js"><link rel="prefetch" href="/vuepress/assets/js/36.e3515f2e.js"><link rel="prefetch" href="/vuepress/assets/js/37.e1fed737.js"><link rel="prefetch" href="/vuepress/assets/js/38.677e76b2.js"><link rel="prefetch" href="/vuepress/assets/js/39.e7c4a835.js"><link rel="prefetch" href="/vuepress/assets/js/4.fd890c47.js"><link rel="prefetch" href="/vuepress/assets/js/40.18410048.js"><link rel="prefetch" href="/vuepress/assets/js/41.2f5c97d8.js"><link rel="prefetch" href="/vuepress/assets/js/42.7137b413.js"><link rel="prefetch" href="/vuepress/assets/js/43.f297ecda.js"><link rel="prefetch" href="/vuepress/assets/js/44.2a8b7a5e.js"><link rel="prefetch" href="/vuepress/assets/js/45.a842db77.js"><link rel="prefetch" href="/vuepress/assets/js/46.9ee55fce.js"><link rel="prefetch" href="/vuepress/assets/js/47.6a1a8685.js"><link rel="prefetch" href="/vuepress/assets/js/48.bf378b6c.js"><link rel="prefetch" href="/vuepress/assets/js/49.3ffffef7.js"><link rel="prefetch" href="/vuepress/assets/js/5.335805b8.js"><link rel="prefetch" href="/vuepress/assets/js/50.b614f86e.js"><link rel="prefetch" href="/vuepress/assets/js/51.0ec791a3.js"><link rel="prefetch" href="/vuepress/assets/js/52.15d463d5.js"><link rel="prefetch" href="/vuepress/assets/js/53.724e7b40.js"><link rel="prefetch" href="/vuepress/assets/js/54.082cd71b.js"><link rel="prefetch" href="/vuepress/assets/js/55.00caea52.js"><link rel="prefetch" href="/vuepress/assets/js/56.7513262c.js"><link rel="prefetch" href="/vuepress/assets/js/57.ff3594c0.js"><link rel="prefetch" href="/vuepress/assets/js/58.68433a60.js"><link rel="prefetch" href="/vuepress/assets/js/59.128d4f47.js"><link rel="prefetch" href="/vuepress/assets/js/6.64b24de5.js"><link rel="prefetch" href="/vuepress/assets/js/60.de284080.js"><link rel="prefetch" href="/vuepress/assets/js/61.fa39da89.js"><link rel="prefetch" href="/vuepress/assets/js/62.7e4d8f68.js"><link rel="prefetch" href="/vuepress/assets/js/63.edcfb712.js"><link rel="prefetch" href="/vuepress/assets/js/64.5ff4a1e2.js"><link rel="prefetch" href="/vuepress/assets/js/65.d9c7493f.js"><link rel="prefetch" href="/vuepress/assets/js/66.e0a1a9c8.js"><link rel="prefetch" href="/vuepress/assets/js/67.d5f410ce.js"><link rel="prefetch" href="/vuepress/assets/js/68.c4f05a5f.js"><link rel="prefetch" href="/vuepress/assets/js/69.e7f9feb9.js"><link rel="prefetch" href="/vuepress/assets/js/7.e8b8b880.js"><link rel="prefetch" href="/vuepress/assets/js/70.ac15d52f.js"><link rel="prefetch" href="/vuepress/assets/js/71.d0c3292f.js"><link rel="prefetch" href="/vuepress/assets/js/72.009f579b.js"><link rel="prefetch" href="/vuepress/assets/js/73.c5aca37a.js"><link rel="prefetch" href="/vuepress/assets/js/74.c413f4c3.js"><link rel="prefetch" href="/vuepress/assets/js/75.f846ea4d.js"><link rel="prefetch" href="/vuepress/assets/js/76.efb1ce1a.js"><link rel="prefetch" href="/vuepress/assets/js/77.daf4df8d.js"><link rel="prefetch" href="/vuepress/assets/js/78.dd055d36.js"><link rel="prefetch" href="/vuepress/assets/js/79.ade7bfc5.js"><link rel="prefetch" href="/vuepress/assets/js/8.238ad89d.js"><link rel="prefetch" href="/vuepress/assets/js/80.a503a1b8.js"><link rel="prefetch" href="/vuepress/assets/js/81.45405473.js"><link rel="prefetch" href="/vuepress/assets/js/82.e0d795b2.js"><link rel="prefetch" href="/vuepress/assets/js/83.e10df983.js"><link rel="prefetch" href="/vuepress/assets/js/84.fdc5373b.js"><link rel="prefetch" href="/vuepress/assets/js/85.26ec28fb.js"><link rel="prefetch" href="/vuepress/assets/js/86.8df9c62c.js"><link rel="prefetch" href="/vuepress/assets/js/87.a7542c89.js"><link rel="prefetch" href="/vuepress/assets/js/88.9924c2d5.js"><link rel="prefetch" href="/vuepress/assets/js/89.0447c85e.js"><link rel="prefetch" href="/vuepress/assets/js/9.5f2817a2.js"><link rel="prefetch" href="/vuepress/assets/js/90.e7e12e32.js"><link rel="prefetch" href="/vuepress/assets/js/91.056e9725.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.8b010f45.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress/" class="home-link router-link-active"><!----> <span class="site-name">Litter Flying Bears</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress/css/issue.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/vuepress/database/mongodb/mongoose.html" class="nav-link">
  database
</a></div><div class="nav-item"><a href="/vuepress/environment/server/docker.html" class="nav-link">
  environment
</a></div><div class="nav-item"><a href="/vuepress/grammar/linux.html" class="nav-link">
  grammar
</a></div><div class="nav-item"><a href="/vuepress/javascript/issue.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/vuepress/node/egg/egg.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/vuepress/record/hy/develop.html" class="nav-link">
  常用记录
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress/css/issue.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/vuepress/database/mongodb/mongoose.html" class="nav-link">
  database
</a></div><div class="nav-item"><a href="/vuepress/environment/server/docker.html" class="nav-link">
  environment
</a></div><div class="nav-item"><a href="/vuepress/grammar/linux.html" class="nav-link">
  grammar
</a></div><div class="nav-item"><a href="/vuepress/javascript/issue.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/vuepress/node/egg/egg.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/vuepress/record/hy/develop.html" class="nav-link">
  常用记录
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>mongodb</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress/database/mongodb/mongodb.html" class="sidebar-link">mongodb</a></li><li><a href="/vuepress/database/mongodb/mongoose.html" class="sidebar-link">mongoose</a></li><li><a href="/vuepress/database/mongodb/replica.html" class="sidebar-link">replica</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>mysql</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress/database/mysql/mysql.html" class="sidebar-link">mysql</a></li><li><a href="/vuepress/database/mysql/practice.html" aria-current="page" class="active sidebar-link">practice</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress/database/mysql/practice.html#index" class="sidebar-link">index</a></li><li class="sidebar-sub-header"><a href="/vuepress/database/mysql/practice.html#search" class="sidebar-link">search</a></li><li class="sidebar-sub-header"><a href="/vuepress/database/mysql/practice.html#join" class="sidebar-link">join</a></li></ul></li><li><a href="/vuepress/database/mysql/search.html" class="sidebar-link">search</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>oracle</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress/database/oracle/oracle.html" class="sidebar-link">oracle</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="联系"><a href="#联系" class="header-anchor">#</a> 联系</h1> <h2 id="index"><a href="#index" class="header-anchor">#</a> index</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 添加uni</span>
<span class="token comment">-- CREATE TABLE user4 (id int, name VARCHAR(20) UNIQUE);</span>
<span class="token comment">-- desc user4;</span>

<span class="token comment">-- 使用alter add方式添加</span>
<span class="token comment">-- CREATE TABLE user2 (id int, NAME VARCHAR(20));</span>
<span class="token comment">-- ALTER TABLE user2 ADD UNIQUE (name);</span>
<span class="token comment">-- DESC user2;</span>

<span class="token comment">-- 使用alter drop方式删除</span>
<span class="token comment">-- ALTER TABLE user4 DROP INDEX name;</span>

<span class="token comment">-- 联合uni</span>
<span class="token comment">-- CREATE TABLE user5 (id int, name VARCHAR(20), UNIQUE(id,name));</span>
<span class="token comment">-- desc user5;</span>

<span class="token comment">-- 使用alter add方式添加</span>
<span class="token comment">-- alter table user5 add unique(id,name);</span>
<span class="token comment">-- desc user5;</span>

<span class="token comment">-- 使用alter drop方式删除</span>
<span class="token comment">-- ALTER TABLE user5 DROP INDEX `id`;</span>

<span class="token comment">-- INSERT INTO user5 VALUES(1,'zs');</span>
<span class="token comment">-- INSERT INTO user5 VALUES(1,'ls');</span>
<span class="token comment">-- SELECT * from user5;</span>

<span class="token comment">-- 使用alter modify方式添加</span>
<span class="token comment">-- alter TABLE user4 MODIFY name varchar(20) UNIQUE;</span>
<span class="token comment">-- desc user4;</span>

<span class="token comment">-- 非空约束</span>
<span class="token comment">-- CREATE TABLE user6 (id int, name varchar(20) not null);</span>
<span class="token comment">-- desc user6;</span>

<span class="token comment">-- 默认约束</span>

<span class="token comment">-- CREATE TABLE user7(id int,name varchar(20),age int DEFAULT 10);</span>
<span class="token comment">-- desc user7;</span>

<span class="token comment">-- 安装指定字段及顺序对应关系插入数据</span>
<span class="token comment">-- INSERT INTO user7 (id,name) VALUES(1,'zs');</span>
<span class="token comment">-- SELECT * FROM user7;</span>

<span class="token comment">-- 外键约束 父子表</span>

<span class="token comment">-- CREATE TABLE class(id int PRIMARY KEY  auto_increment , name VARCHAR(20));</span>
<span class="token comment">-- DESC class;</span>
<span class="token comment">-- ALTER TABLE class MODIFY id int PRIMARY KEY;</span>

<span class="token comment">-- INSERT INTO class (name) VALUES('一班');</span>
<span class="token comment">-- INSERT INTO class (name) VALUES('二班');</span>
<span class="token comment">-- INSERT INTO class (name) VALUES('三班');</span>
<span class="token comment">-- INSERT INTO class (name) VALUES('四班');</span>

<span class="token comment">-- SELECT * FROM class;</span>

<span class="token comment">-- desc class;</span>

<span class="token comment">-- drop table class;</span>

<span class="token comment">-- CREATE TABLE student (</span>
<span class="token comment">-- 	id int PRIMARY KEY,</span>
<span class="token comment">-- 	NAME varchar(20),</span>
<span class="token comment">-- 	class_id int,</span>
<span class="token comment">-- 	FOREIGN KEY (class_id) REFERENCES class(id)</span>
<span class="token comment">-- );</span>
<span class="token comment">-- desc student;</span>

<span class="token comment">-- INSERT INTO student VALUES(1001,'张三',1);</span>
<span class="token comment">-- INSERT INTO student VALUES(2001,'张三',2);</span>
<span class="token comment">-- INSERT INTO student VALUES(3001,'张三',3);</span>
<span class="token comment">-- INSERT INTO student VALUES(4001,'张三',4);</span>
<span class="token comment">-- SELECT * FROM student;</span>

<span class="token comment">-- INSERT INTO student VALUES(5001,'张三',5);</span>
<span class="token comment">-- DELETE FROM class WHERE id=4;</span>

<span class="token comment">-- alter table user add id int primary key auto_increment;</span>
<span class="token comment">-- desc user;</span>
<span class="token comment">-- alter table user drop id;</span>

<span class="token comment">-- desc user;</span>
<span class="token comment">-- alter TABLE user drop INDEX id;</span>

<span class="token comment">-- alter TABLE user add unique(name);</span>
<span class="token comment">-- desc user;</span>

<span class="token comment">-- ALTER TABLE user DROP INDEX name;</span>
<span class="token comment">-- desc user;</span>
<span class="token comment">-- alter TABLE user drop PRIMARY KEY;</span>

<span class="token comment">-- alter TABLE user add</span>

<span class="token comment">-- SHOW CREATE TABLE class;</span>
<span class="token comment">-- SHOW CREATE TABLE student;</span>

<span class="token comment">-- CREATE TABLE `student` (</span>
<span class="token comment">--   `id` int NOT NULL,</span>
<span class="token comment">--   `name` varchar(20) DEFAULT NULL,</span>
<span class="token comment">--   `class_id` int DEFAULT NULL,</span>
<span class="token comment">--   PRIMARY KEY (`id`),</span>
<span class="token comment">--   KEY `class_id` (`class_id`),</span>
<span class="token comment">--   CONSTRAINT `student_ibfk_1` FOREIGN KEY (`class_id`) REFERENCES `class` (`id`)</span>
<span class="token comment">-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8</span>

<span class="token comment">-- ALTER TABLE student DROP FOREIGN KEY student_ibfk_1;</span>

<span class="token comment">-- CREATE TABLE `student` (</span>
<span class="token comment">--   `id` int NOT NULL,</span>
<span class="token comment">--   `name` varchar(20) DEFAULT NULL,</span>
<span class="token comment">--   `class_id` int DEFAULT NULL,</span>
<span class="token comment">--   PRIMARY KEY (`id`),</span>
<span class="token comment">--   KEY `class_id` (`class_id`)</span>
<span class="token comment">-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8</span>


<span class="token comment">-- alter TABLE user add UNIQUE(id);</span>
<span class="token comment">-- alter TABLE user add UNIQUE(name);</span>
<span class="token comment">-- ALTER TABLE user drop index id;</span>
<span class="token comment">-- desc user;</span>
<span class="token comment">-- alter table locstock add foreign key locstock_ibfk2(stockid) references product(stockid)</span>

<span class="token comment">-- ALTER TABLE student add FOREIGN KEY student_ibfk_1(class_id) REFERENCES class(id);</span>

<span class="token comment">-- desc class;</span>
<span class="token comment">-- desc student;</span>
<span class="token comment">-- ALTER TABLE student DROP INDEX class_id;</span>
<span class="token comment">-- SELECT * from class;</span>
<span class="token comment">-- DELETE from class WHERE id=4;</span>
<span class="token comment">-- ALTER TABLE student DROP FOREIGN KEY student_ibfk_1;</span>
<span class="token comment">-- desc student;</span>

<span class="token comment">-- CREATE TABLE s (id int, s_no int );</span>

<span class="token comment">-- ALTER TABLE s add PRIMARY KEY(id);</span>
<span class="token comment">-- ALTER TABLE s MODIFY id int auto_increment;</span>
<span class="token comment">-- ALTER TABLE s MODIFY id int;</span>
<span class="token comment">-- ALTER TABLE s MODIFY id int not null;</span>
<span class="token comment">-- ALTER TABLE s MODIFY s_no int DEFAULT 10;</span>
<span class="token comment">-- create table s1 (id int unique,  name varchar(20));</span>

<span class="token comment">-- ALTER TABLE s add num int;</span>
<span class="token comment">-- ALTER TABLE s drop num;</span>
<span class="token comment">-- desc s;</span>

<span class="token comment">-- CREATE TABLE s2(id int PRIMARY KEY auto_increment);</span>
<span class="token comment">-- ALTER TABLE s2 add num int;</span>
<span class="token comment">-- desc s2;</span>

<span class="token comment">-- INSERT INTO s2 (num) values(12);</span>
<span class="token comment">-- INSERT INTO S2 VALUES(,134);</span>

<span class="token comment">-- SELECT * from s2;</span>

<span class="token comment">-- CREATE TABLE s3(id int PRIMARY KEY,num int);</span>
<span class="token comment">-- desc S3;</span>

<span class="token comment">-- INSERT INTO S3 VALUES(3,null);</span>
<span class="token comment">-- SELECT * FROM S3;</span>

<span class="token comment">-- RENAME TABLE s3 to s4;</span>

<span class="token comment">-- SELECT * FROM S3;</span>
<span class="token comment">-- SELECT * FROM S4;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br></div></div><h2 id="search"><a href="#search" class="header-anchor">#</a> search</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 学生表 Student</span>
<span class="token comment">-- 学号</span>
<span class="token comment">-- 姓名</span>
<span class="token comment">-- 性别</span>
<span class="token comment">-- 出生年月日</span>
<span class="token comment">-- 所在班级</span>
<span class="token comment">-- CREATE TABLE student (</span>
<span class="token comment">-- 	sno VARCHAR ( 20 ) PRIMARY KEY,</span>
<span class="token comment">-- 	sname VARCHAR ( 20 ) NOT NULL,</span>
<span class="token comment">-- 	ssex VARCHAR ( 10 ) NOT NULL,</span>
<span class="token comment">-- 	sbirthday datetime,</span>
<span class="token comment">-- 	class VARCHAR ( 20 )</span>
<span class="token comment">-- )</span>

<span class="token comment">-- 教师表 Teacher</span>
<span class="token comment">-- 教师编号</span>
<span class="token comment">-- 教师姓名</span>
<span class="token comment">-- 教师性别</span>
<span class="token comment">-- 出生年月日</span>
<span class="token comment">-- 职称</span>
<span class="token comment">-- 所在部门</span>
<span class="token comment">-- CREATE TABLE teacher (</span>
<span class="token comment">-- 	tno VARCHAR ( 20 ) PRIMARY KEY,</span>
<span class="token comment">-- 	tname VARCHAR ( 20 ) NOT NULL,</span>
<span class="token comment">-- 	tsex VARCHAR ( 10 ) NOT NULL,</span>
<span class="token comment">-- 	tbirthday datetime,</span>
<span class="token comment">-- 	prof VARCHAR ( 20 ) NOT NULL,</span>
<span class="token comment">-- 	depart VARCHAR ( 20 ) NOT NULL</span>
<span class="token comment">-- );</span>


<span class="token comment">-- 课程表 Course</span>
<span class="token comment">-- 课程号</span>
<span class="token comment">-- 课程名称</span>
<span class="token comment">-- 教师编号</span>
<span class="token comment">-- CREATE TABLE course(</span>
<span class="token comment">-- 	cno VARCHAR(20) PRIMARY KEY,</span>
<span class="token comment">-- 	cname VARCHAR(20) not null,</span>
<span class="token comment">-- 	tno VARCHAR(20) not null,</span>
<span class="token comment">-- 	FOREIGN KEY (tno) REFERENCES teacher(tno)</span>
<span class="token comment">-- );</span>

<span class="token comment">-- 成绩表 Score</span>
<span class="token comment">-- 学号</span>
<span class="token comment">-- 课程号</span>
<span class="token comment">-- 成绩</span>
<span class="token comment">-- CREATE TABLE score(</span>
<span class="token comment">-- 	sno VARCHAR(20) not null,</span>
<span class="token comment">-- 	cno VARCHAR(20) not null,</span>
<span class="token comment">-- 	degree DECIMAL,</span>
<span class="token comment">-- 	FOREIGN KEY(sno) REFERENCES student(sno),</span>
<span class="token comment">-- 	FOREIGN KEY(cno) REFERENCES course(cno),</span>
<span class="token comment">-- 	primary key(sno, cno)</span>
<span class="token comment">-- );</span>



<span class="token comment">-- INSERT INTO student VALUES('101','张强','男','1993-09-12','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('102','道明','男','1993-07-26','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('103','资源','男','1993-04-20','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('104','学友','男','1993-02-26','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('105','克强','男','1995-08-13','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('106','王芳','女','1993-06-27','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('107','燕子','女','1994-01-06','95032');</span>
<span class="token comment">-- INSERT INTO student VALUES('108','张晓光','男','1994-01-06','95033');</span>
<span class="token comment">-- INSERT INTO student VALUES('109','李艳丽','女','1994-01-06','95033');</span>

<span class="token comment">-- INSERT INTO teacher VALUES('801','李斌','男','1964-01-06','教授','计算机系');</span>
<span class="token comment">-- INSERT INTO teacher VALUES('802','张雪','女','1974-01-06','讲师','电子工程系');</span>
<span class="token comment">-- INSERT INTO teacher VALUES('803','谢刚','男','1984-01-06','副教授','计算机系');</span>
<span class="token comment">-- INSERT INTO teacher VALUES('804','王莽','男','1976-01-06','讲师','电子工程系');</span>

<span class="token comment">-- INSERT INTO course VALUES('3-105','计算机导论','801');</span>
<span class="token comment">-- INSERT INTO course VALUES('3-245','操作系统','803');</span>
<span class="token comment">-- INSERT INTO course VALUES('6-166','数字电路','802');</span>
<span class="token comment">-- INSERT INTO course VALUES('7-136','高等数学','804');</span>

<span class="token comment">-- INSERT INTO score VALUES('103','3-105','86');</span>
<span class="token comment">-- INSERT INTO score VALUES('103','3-245','72');</span>
<span class="token comment">-- INSERT INTO score VALUES('103','7-136','68');</span>
<span class="token comment">-- INSERT INTO score VALUES('105','6-166','98');</span>
<span class="token comment">-- INSERT INTO score VALUES('105','3-245','72');</span>
<span class="token comment">-- INSERT INTO score VALUES('105','7-136','54');</span>
<span class="token comment">-- INSERT INTO score VALUES('109','6-166','86');</span>
<span class="token comment">-- INSERT INTO score VALUES('109','3-245','72');</span>
<span class="token comment">-- INSERT INTO score VALUES('109','7-136','88');</span>
<span class="token comment">-- INSERT INTO score VALUES('104','3-105','69');</span>
<span class="token comment">-- INSERT INTO score VALUES('104','6-166','72');</span>
<span class="token comment">-- INSERT INTO score VALUES('104','7-136','81');</span>

<span class="token comment">-- SELECT * FROM student;</span>
<span class="token comment">-- SELECT * FROM teacher;</span>
<span class="token comment">-- SELECT * FROM course;</span>
<span class="token comment">-- SELECT * FROM score;</span>

<span class="token comment">-- 1. student所有记录</span>
<span class="token comment">-- SELECT * FROM student;</span>

<span class="token comment">-- 2. student所有记录中的sname,ssex,class列</span>
<span class="token comment">-- SELECT sname,ssex,class FROM student;</span>

<span class="token comment">-- 3. 查询教师所有单位不重复的depart列  distinct</span>
<span class="token comment">-- SELECT DISTINCT depart FROM teacher;</span>

<span class="token comment">-- 4. 查询成绩在60-80之间的所有记录 between and 包含两头</span>
<span class="token comment">-- SELECT * FROM score WHERE degree BETWEEN 60 and 80;</span>
<span class="token comment">-- SELECT * FROM score WHERE degree &gt; 60 and degree &lt; 80;</span>

<span class="token comment">-- 5. 查询score表中成绩为85,86或88的记录 in</span>
<span class="token comment">-- SELECT  * FROM score WHERE degree in(85,86,88);</span>

<span class="token comment">-- 6. 查询student表中&quot;95031&quot;或者性别为“女”的所有记录</span>
<span class="token comment">-- SELECT * FROM student WHERE class='95031' or ssex='女';</span>

<span class="token comment">-- 7. 以class降序查询student表中所有记录 asc desc</span>
<span class="token comment">-- SELECT * FROM student order by class DESC;</span>

<span class="token comment">-- 8. 以cno升序、degree降序查询score表中所有记录</span>
<span class="token comment">-- SELECT * FROM score ORDER BY cno asc, degree desc;</span>

<span class="token comment">-- 9、查询“95031”班的学生人数 count()</span>
<span class="token comment">-- SELECT count(*) FROM student WHERE class = '95031';</span>

<span class="token comment">-- 10、查询score表中的最高分的学生学号和课程号。（子查询或排序） max</span>
<span class="token comment">-- SELECT sno,cno FROM score WHERE degree = (SELECT MAX(degree) FROM score);</span>
<span class="token comment">-- 若只查询单个，可使用排序 limit startIndex, num;</span>
<span class="token comment">-- SELECT sno,cno,degree FROM score ORDER BY degree desc LIMIT 0,1;</span>


<span class="token comment">-- 11. 查询没门课程的平均成绩 GROUP BY &amp; avg</span>
<span class="token comment">-- SELECT * FROM course;</span>
<span class="token comment">-- SELECT AVG(degree) FROM score WHERE cno = '3-105';</span>
<span class="token comment">-- SELECT degree FROM score WHERE cno = '3-105';</span>

<span class="token comment">-- SELECT cno,AVG(degree) FROM score GROUP BY cno;</span>


<span class="token comment">-- 12. 查询score表中至少有二名学生选修的并以3开头的课程的平均分  having like</span>
<span class="token comment">-- SELECT cno,avg(degree),count(*) FROM score GROUP BY cno HAVING COUNT(*)&gt;=2 AND cno like '3%';</span>


<span class="token comment">-- 13. 查询分数大于70,小于90的sno列</span>
<span class="token comment">-- SELECT degree,cno FROM score WHERE degree&gt;70 and degree&lt;90;</span>


<span class="token comment">-- 多表查询</span>
<span class="token comment">-- 14. 查询所有学生的sname,cno 和degree列;</span>
<span class="token comment">-- SELECT sno,sname FROM student;</span>
<span class="token comment">-- SELECT sno,cno,degree FROM score;</span>
<span class="token comment">-- SELECT sname,cno,degree FROM student,score WHERE student.sno = score.sno;</span>


<span class="token comment">-- 15.查询所有学生的sno, cname, degree列</span>
<span class="token comment">-- SELECT sno, cname, degree FROM course,score WHERE course.cno = score.cno;</span>


<span class="token comment">-- 16.查询所有的学生 sname , cname, degree列</span>
<span class="token comment">-- SELECT sname,cname,degree FROM student,course,score WHERE score.sno = student.sno AND score.cno = course.cno;</span>
<span class="token comment">-- SELECT sname,cname,degree,score.sno as sc_sno,student.sno,score.cno as sc_cno,course.cno FROM student,course,score WHERE score.sno = student.sno AND score.cno = course.cno;</span>

<span class="token comment">-- 17.查询班级是'95031'班学生每门课的平均分</span>
<span class="token comment">-- SELECT sno FROM student WHERE class = '95031';</span>
<span class="token comment">-- SELECT * FROM score WHERE sno in (SELECT sno FROM student WHERE class = '95031');</span>
<span class="token comment">-- SELECT cno,avg(degree) FROM score WHERE sno in (SELECT sno FROM student WHERE class = '95031') GROUP BY cno;</span>

<span class="token comment">-- 18.查询选修&quot;3-105&quot;课程的成绩高于'109'号同学'3-105'成绩 的所有同学的记录</span>
<span class="token comment">-- SELECT * FROM score WHERE degree &gt; (SELECT degree FROM score WHERE cno = '3-105' and sno = '109') AND cno = '3-105';</span>


<span class="token comment">-- 19.查询成绩高于学号为'109',课程号为'3-105'的成绩的所有记录</span>
<span class="token comment">-- SELECT * FROM score WHERE degree &gt; (SELECT degree FROM score WHERE cno = '3-105' and sno = '109');</span>

<span class="token comment">--  20.查询所有学号为108.101的同学同年出生的所有学生的sno,sname和sbirthday</span>
<span class="token comment">-- SELECT sbirthday FROM student WHERE sno in('108','101');</span>
<span class="token comment">-- SELECT sno,sname,sbirthday FROM student WHERE sbirthday in (SELECT sbirthday FROM student WHERE sno in('108','101'));</span>

<span class="token comment">-- 21.查询 张旭 教师任课的学生的成绩</span>
<span class="token comment">-- SELECT tno FROM teacher WHERE tname = '张旭';</span>
<span class="token comment">-- SELECT cno FROM course WHERE course.tno = (SELECT tno FROM teacher WHERE tname = '张旭');</span>
<span class="token comment">-- SELECT * FROM score WHERE cno = (SELECT cno FROM course WHERE course.tno = (SELECT tno FROM teacher WHERE tname = '张旭'));</span>

<span class="token comment">-- 22.查询选修课程的同学人数多余 3 人的教师姓名</span>
<span class="token comment">-- SELECT cno from score GROUP BY cno HAVING count(*)&gt;3;</span>
<span class="token comment">-- SELECT tno FROM course WHERE cno = (SELECT cno from score GROUP BY cno HAVING count(*)&gt;3);</span>
<span class="token comment">-- SELECT * FROM teacher WHERE tno = (SELECT tno FROM course WHERE cno = (SELECT cno from score GROUP BY cno HAVING count(*)&gt;3));</span>

<span class="token comment">-- 23.查询95033班和95031班全体学生的记录</span>
<span class="token comment">-- SELECT * FROM student WHERE class in ('95033','95031');</span>

<span class="token comment">-- 24.查询存在85分以上成绩的课程cno</span>
<span class="token comment">-- SELECT cno FROM score WHERE degree &gt; 85 GROUP BY cno;</span>

<span class="token comment">-- 25.查出所有'计算机系' 教师所教课程的成绩表</span>
<span class="token comment">-- SELECT tno FROM teacher WHERE depart = '计算机系';</span>
<span class="token comment">-- SELECT cno FROM course WHERE tno in (SELECT tno FROM teacher WHERE depart = '计算机系');</span>
<span class="token comment">-- SELECT * FROM score WHERE cno in (SELECT cno FROM course WHERE tno in (SELECT tno FROM teacher WHERE depart = '计算机系'));</span>

<span class="token comment">-- 26.查询'计算机系'与'电子工程系' 不同职称的教师的name和rof</span>
<span class="token comment">-- SELECT prof FROM teacher WHERE depart = '电子工程系' GROUP BY prof;</span>
<span class="token comment">-- SELECT * FROM teacher WHERE depart ='计算机系' and prof NOT IN (SELECT prof FROM teacher WHERE depart = '电子工程系' GROUP BY prof);</span>

<span class="token comment">-- 27 查询选修编号为&quot;3-105&quot;课程且成绩至少高于选修编号为'3-245'同学的c_no,s_no和sc_degree,并且按照sc_degree从高到地次序排序</span>
<span class="token comment">-- SELECT degree FROM score WHERE cno = '3-245';</span>
<span class="token comment">-- SELECT * FROM score WHERE cno = '3-105' and degree &gt; ANY(SELECT degree FROM score WHERE cno = '3-245');</span>

<span class="token comment">-- 28.查询选修编号为&quot;3-105&quot;且成绩高于选修编号为&quot;3-245&quot;课程的同学c_no.s_no和sc_degree</span>
<span class="token comment">-- SELECT * FROM score WHERE cno = '3-105' and degree &gt; ALL(SELECT degree FROM score WHERE cno = '3-245');</span>

<span class="token comment">-- 总结: ANY 和 ALL</span>
<span class="token comment">-- ANY:表示任何一个就行了,如;数组A中的值比数组B中任何一个都要大,那么只要A和B中最小的比较就行了.</span>
<span class="token comment">-- ALL:表示所有都要比较,如:数组A中的值比数组B中所有的数都要大,那么A要和B中最大的值比较才行.</span>

<span class="token comment">-- 29. 查询所有教师和同学的 name ,sex, birthday</span>
<span class="token comment">-- SELECT tname as name, tsex as sex, tbirthday as birthday FROM teacher</span>
<span class="token comment">-- UNION</span>
<span class="token comment">-- SELECT sname as name, ssex as sex, sbirthday as birthday FROM student;</span>

<span class="token comment">-- 30. 查询性别为女的所有教师和同学的 name ,sex, birthday</span>
<span class="token comment">-- SELECT tname as name, tsex as sex, tbirthday as birthday FROM teacher WHERE tsex = '女'</span>
<span class="token comment">-- UNION</span>
<span class="token comment">-- SELECT sname as name, ssex as sex, sbirthday as birthday FROM student WHERE ssex = '女';</span>

<span class="token comment">-- 31.查询成绩比该课程平均成绩低的同学的成绩表 分表查询</span>
<span class="token comment">-- SELECT cno,avg(degree) FROM score GROUP BY cno;</span>
<span class="token comment">-- SELECT * FROM score a WHERE degree &lt; (SELECT AVG(degree) FROM score b WHERE a.cno = b.cno) ORDER BY cno;</span>

<span class="token comment">-- 32.查询所有任课教师的t_name 和 t_depart(要在course表中可以查得到)</span>
<span class="token comment">-- SELECT tno FROM course GROUP BY tno;</span>
<span class="token comment">-- SELECT * FROM teacher WHERE tno in (SELECT tno FROM course GROUP BY tno);</span>

<span class="token comment">-- 33.查出至少有2名男生的班号</span>
<span class="token comment">-- SELECT class,count(*) FROM student WHERE ssex = '男' GROUP BY class HAVING count(*)&gt;1;</span>

<span class="token comment">-- 34.查询student 表中 不姓&quot;王&quot;的同学的记录</span>
<span class="token comment">-- SELECT * FROM student WHERE sname not LIKE '王%';</span>

<span class="token comment">-- 35. 查询student 中每个学生的姓名和年龄(当前时间 - 出生年份)</span>
<span class="token comment">-- select *,year(now()) FROM student;</span>
<span class="token comment">-- SELECT sname,YEAR(now()) - YEAR(sbirthday) as age FROM student;</span>

<span class="token comment">-- 36. 查询student中年龄最大和最小的 s_birthday的值</span>
<span class="token comment">-- SELECT MIN(sbirthday) as max, max(sbirthday) as min FROM student;</span>

<span class="token comment">-- 37.以班级号和年龄从大到小的顺序查询student表中的全部记录</span>
<span class="token comment">-- SELECT * FROM student ORDER BY class desc,sbirthday;</span>

<span class="token comment">-- 38.查询&quot;男&quot;教师 及其所上的课</span>
<span class="token comment">-- SELECT * FROM teacher WHERE tsex = '男';</span>
<span class="token comment">-- SELECT * FROM course WHERE tno in (SELECT tno FROM teacher WHERE tsex = '男')</span>

<span class="token comment">-- 39.查询最高分同学的s_no c_no 和 sc_degree;</span>
<span class="token comment">-- SELECT max(degree) FROM score;</span>
<span class="token comment">-- SELECT * FROM score WHERE degree = (SELECT max(degree) FROM score);</span>

<span class="token comment">-- 40. 查询和&quot;李军&quot;同性别的所有同学的s_name</span>
<span class="token comment">-- SELECT * FROM student;</span>
<span class="token comment">-- SELECT ssex FROM student WHERE sname = '李军';</span>
<span class="token comment">-- SELECT * FROM student WHERE ssex = (SELECT ssex FROM student WHERE sname = '李军');</span>

<span class="token comment">-- 41.查询和&quot;李军&quot;同性别并且同班的所有同学的s_name</span>
<span class="token comment">-- SELECT * FROM student</span>
<span class="token comment">-- WHERE ssex = ( SELECT ssex FROM student WHERE sname = '李军')</span>
<span class="token comment">-- AND class = ( SELECT class FROM student WHERE sname = '李军');</span>


<span class="token comment">-- 42. 查询所有选修'计算机导论'课程的'男'同学的成绩表</span>
<span class="token comment">-- SELECT * FROM student WHERE ssex = '男';</span>
<span class="token comment">-- SELECT * FROM course WHERE cname = '计算机导论';</span>
<span class="token comment">-- SELECT * FROM score</span>
<span class="token comment">-- WHERE cno = (SELECT cno FROM course WHERE cname = '计算机导论')</span>
<span class="token comment">-- AND sno in (SELECT sno FROM student WHERE ssex = '男');</span>


<span class="token comment">-- CREATE TABLE grade(</span>
<span class="token comment">-- 	low int,</span>
<span class="token comment">-- 	up int,</span>
<span class="token comment">-- 	grade CHAR(1)</span>
<span class="token comment">-- );</span>
<span class="token comment">--</span>
<span class="token comment">-- INSERT INTO grade VALUES(90,100,'A');</span>
<span class="token comment">-- INSERT INTO grade VALUES(80,89,'B');</span>
<span class="token comment">-- INSERT INTO grade VALUES(70,79,'C');</span>
<span class="token comment">-- INSERT INTO grade VALUES(60,69,'D');</span>
<span class="token comment">-- INSERT INTO grade VALUES(0,59,'E');</span>
<span class="token comment">-- SELECT * FROM grade;</span>

<span class="token comment">-- 43. 查询所有同学的s_no , c_no 和grade列</span>
<span class="token keyword">SELECT</span> sno<span class="token punctuation">,</span>cno<span class="token punctuation">,</span>grade <span class="token keyword">FROM</span> score<span class="token punctuation">,</span>grade <span class="token keyword">WHERE</span> degree <span class="token operator">BETWEEN</span> low <span class="token operator">AND</span> up <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> grade<span class="token punctuation">;</span>

<span class="token comment">-- SELECT * FROM student;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br></div></div><h2 id="join"><a href="#join" class="header-anchor">#</a> join</h2> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- CREATE TABLE person(</span>
<span class="token comment">-- 	id int,</span>
<span class="token comment">-- 	name VARCHAR(20),</span>
<span class="token comment">-- 	cardId int</span>
<span class="token comment">-- );</span>
<span class="token comment">--</span>
<span class="token comment">-- CREATE TABLE card(</span>
<span class="token comment">-- 	id int,</span>
<span class="token comment">-- 	name VARCHAR(20)</span>
<span class="token comment">-- );</span>
<span class="token comment">--</span>
<span class="token comment">-- INSERT into card VALUES (1,'饭卡');</span>
<span class="token comment">-- INSERT into card VALUES (2,'建行卡');</span>
<span class="token comment">-- INSERT into card VALUES (3,'交行卡');</span>
<span class="token comment">-- INSERT into card VALUES (4,'工行卡');</span>
<span class="token comment">-- INSERT into card VALUES (5,'农行卡');</span>
<span class="token comment">--</span>
<span class="token comment">-- INSERT INTO person VALUES (1,'张三',1);</span>
<span class="token comment">-- INSERT INTO person VALUES (2,'李四',2);</span>
<span class="token comment">-- INSERT INTO person VALUES (3,'王五',6);</span>

<span class="token comment">--  SELECT * FROM person;</span>
<span class="token comment">--  SELECT * FROM card;</span>

<span class="token comment">-- SELECT * FROM person INNER JOIN card on person.cardId = card.id;</span>
<span class="token comment">-- SELECT * FROM person JOIN card on person.cardId = card.id;</span>

<span class="token comment">-- SELECT * FROM person LEFT JOIN card on person.cardId = card.id;</span>
<span class="token comment">-- SELECT * FROM person LEFT OUTER JOIN card on person.cardId = card.id;</span>


<span class="token comment">-- SELECT * FROM person RIGHT JOIN card on person.cardId = card.id;</span>
<span class="token comment">-- SELECT * FROM person RIGHT OUTER JOIN card on person.cardId = card.id;</span>

<span class="token comment">-- 不支持 FULL JOIN</span>
<span class="token comment">-- SELECT * FROM person FULL JOIN card on person.cardId = card.id;</span>

<span class="token comment">-- 使用左右连接 + union 实现 full jion</span>
<span class="token comment">-- SELECT * FROM person LEFT JOIN card on person.cardId = card.id</span>
<span class="token comment">-- UNION</span>
<span class="token comment">-- SELECT * FROM person RIGHT JOIN card on person.cardId = card.id;</span>

<span class="token comment">-- 事务</span>

<span class="token comment">-- 查询自动提交是否开启  1/开启</span>
<span class="token comment">-- SELECT @@autocommit;</span>

<span class="token comment">-- 设置自动提交</span>
<span class="token comment">-- set autocommit=1;</span>

<span class="token comment">-- 手动提交</span>
<span class="token comment">-- commit;</span>

<span class="token comment">-- 回滚</span>
<span class="token comment">-- rollback；</span>


<span class="token comment">-- set autocommit=0;</span>
<span class="token comment">-- set autocommit=1;</span>
<span class="token comment">-- CREATE TABLE s (id int);</span>
<span class="token comment">-- show tables;</span>
<span class="token comment">-- INSERT INTO s VALUES(2);</span>
<span class="token comment">-- ROLLBACK;</span>
<span class="token comment">-- COMMIT;</span>

<span class="token comment">-- SELECT * FROM s;</span>

<span class="token comment">-- drop TABLE s;</span>
<span class="token comment">-- SHOW tables;</span>
<span class="token comment">-- CREATE TABLE bank (</span>
<span class="token comment">-- 	id int,</span>
<span class="token comment">-- 	money int</span>
<span class="token comment">-- );</span>

<span class="token comment">-- begin;</span>
<span class="token comment">-- update bank set money=money-100 where id=1;</span>
<span class="token comment">-- update bank set money=money+100 where id=2;</span>
<span class="token comment">-- rollback;</span>
<span class="token comment">-- SELECT * FROM bank;</span>
<span class="token comment">--</span>
<span class="token comment">-- start transaction;</span>
<span class="token comment">-- update bank set money=money-100 where id=1;</span>
<span class="token comment">-- update bank set money=money+100 where id=2;</span>
<span class="token comment">-- rollback;</span>
<span class="token comment">-- SELECT * FROM bank;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/25/2021, 5:17:26 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress/database/mysql/mysql.html" class="prev">
        mysql
      </a></span> <span class="next"><a href="/vuepress/database/mysql/search.html">
        search
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress/assets/js/app.32252c8f.js" defer></script><script src="/vuepress/assets/js/2.50fecea5.js" defer></script><script src="/vuepress/assets/js/16.38b2e471.js" defer></script>
  </body>
</html>
